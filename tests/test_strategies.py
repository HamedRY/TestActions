import unittest
import sys, os
import json
sys.path.append(os.getcwd())
os.environ['APP_RUN_ENV'] = 'development'

from services import strategies_service

class StrategiesTests(unittest.TestCase):
    _ = None
    def test_get_strategies_mutation_0(self):
        task = strategies_service.get_strategies.s(
            20, 0, 'date_added', 'desc', None, None, None, None
        ).apply()
        self.assertEqual(task.result, {"total_elements": 10, "total_pages": 1, "current_page": 0, "content": [{"_id": "6017edf7eec798982293a9a1", "base_assets": ["srn"], "crypto": True, "date_added": "2021-01-14 22:41:09", "date_updated": "2021-01-14 22:43:26", "default_base_asset": "srn", "default_frequency": "1m", "default_market": "binance", "description": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect.", "key": "8d9ff55aee0d485f5bdaa76a36c0539a25a44d57", "level": "level 0", "markets": ["binance"], "name": "mahoneypatricia.bot", "pair": "srn_nem", "risk_score": 6, "stage": "sandbox", "team_members": ["Quinn van Mook", "Julie van den Henst", "Quinn Martens", "Robin van Beek", "Mick Galenzone"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a949", "version": "0.0.1", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://placekitten.com/728/288", "description_multi": [{"en": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect."}, {"es": "es: Assumenda vel accusamus accusantium impedit incidunt ducimus aperiam. Doloremque eligendi omnis labore. Placeat fugiat magnam sed tenetur fuga officiis."}, {"de": "de: Delectus aliquam aut ipsam voluptatibus minus ea incidunt. Quibusdam neque totam tempore nam. Inventore rem magni deserunt nostrum sint."}, {"fr": "fr: Voler v\u00e9ritable lire. Propre accepter amour six songer saint.\nGrand subir accompagner oncle. R\u00eave changer soci\u00e9t\u00e9 quart chaud."}, {"nl": "nl: Ratione consequatur expedita delectus. Non aliquid corrupti labore nemo.\nAspernatur ea maiores consequuntur consequuntur. Sint fugiat eveniet placeat voluptatibus."}]}, {"_id": "6017edf7eec798982293a9a0", "base_assets": ["grc"], "crypto": True, "date_added": "2021-01-08 14:55:15", "date_updated": "2021-01-08 14:55:51", "default_base_asset": "grc", "default_frequency": "32m", "default_market": "binance", "description": "en: Agree relationship drug shoulder doctor Democrat people. Area daughter stage born data sell. Move time style little understand.", "key": "30904442586f9b9e00103fb4c3669b2aae82b28b", "level": "level 2", "markets": ["binance"], "name": "agardner.bot", "pair": "grc_usdt", "risk_score": 8, "stage": "sandbox", "team_members": ["Nienke Heere", "Lucas Persijn"], "team_name": "joshuawong.team", "type": "bot", "user_id": "6017edf6eec798982293a960", "version": "0.3.7", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://dummyimage.com/668x822", "description_multi": [{"en": "en: Agree relationship drug shoulder doctor Democrat people. Area daughter stage born data sell. Move time style little understand."}, {"es": "es: Veritatis sint libero necessitatibus laboriosam. Facere voluptates dolores dolorem. Quo ipsum dolorem placeat atque.\nNihil fugiat nihil accusamus. Totam fugiat expedita nulla deserunt."}, {"de": "de: Exercitationem eligendi eaque cumque dolorum sit est. Voluptatibus nam mollitia repellat quae dolores. Consequuntur recusandae distinctio."}, {"fr": "fr: Plut\u00f4t machine figure piti\u00e9 joli relever franchir. Devenir musique envelopper ouvrage."}, {"nl": "nl: Reprehenderit dicta dolores beatae. Esse vitae vitae aliquam id est odit. Tenetur eius totam magni tenetur. Consequatur eaque nihil voluptate velit."}]}, {"_id": "6017edf7eec798982293a99f", "base_assets": ["waves"], "crypto": True, "date_added": "2021-01-01 08:27:43", "date_updated": "2021-01-01 08:29:42", "default_base_asset": "waves", "default_frequency": "21m", "default_market": "binance", "description": "en: Fine culture difficult interview policy our. Matter recent science guess like rich various.", "key": "52071c05c843028e73052e9c9c1b2e50b4986917", "level": "level 1", "markets": ["binance"], "name": "stephenoneal.bot", "pair": "waves_tit", "risk_score": 6, "stage": "sandbox", "team_members": ["Ayden Lensen"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a93a", "version": "0.3.6", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/823/947", "description_multi": [{"en": "en: Fine culture difficult interview policy our. Matter recent science guess like rich various."}, {"es": "es: Ab deleniti sapiente modi molestiae. Laborum officia aspernatur adipisci impedit molestiae."}, {"de": "de: Architecto asperiores voluptates similique laborum asperiores quos itaque. Nesciunt nisi voluptates."}, {"fr": "fr: C\u00f4t\u00e9 voler march\u00e9 \u00e9troit.\nContenir gu\u00e8re o\u00f9 arm\u00e9e raconter pens\u00e9e. Tel direction patron trente course. Baisser masse or secours. Dominer doucement \u00eele nuit secours feu c\u00e9der retour."}, {"nl": "nl: Dolor consectetur esse ratione impedit. Iure non rerum ratione autem officia.\nVoluptas maxime possimus quasi aliquid."}]}, {"_id": "6017edf7eec798982293a99e", "base_assets": ["ppc"], "crypto": True, "date_added": "2020-12-21 00:46:48", "date_updated": "2020-12-21 00:48:33", "default_base_asset": "ppc", "default_frequency": "35m", "default_market": "binance", "description": "en: Health director even house speak report once. Discussion whom president others.\nMyself main by see brother. Reflect wear above civil.", "key": "727599e1c67bf3d150fd74cd68c24d97fa440187", "level": "level 0", "markets": ["binance"], "name": "mpowers.bot", "pair": "ppc_neo", "risk_score": 6, "stage": "active", "team_members": ["Amir Jones", "Sanne Mulders", "Sophia Backer", "Dewi van der Maath"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.0.2", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/488/668", "description_multi": [{"en": "en: Health director even house speak report once. Discussion whom president others.\nMyself main by see brother. Reflect wear above civil."}, {"es": "es: Laudantium assumenda atque.\nConsequatur ipsa accusantium enim quasi dicta. Architecto numquam rerum odit magni ullam doloribus. Excepturi odit iusto consectetur mollitia."}, {"de": "de: Aspernatur cum dolorum porro consequatur. Aliquam consequuntur veniam perspiciatis. Quam eos deserunt pariatur distinctio nam voluptate nihil."}, {"fr": "fr: Nommer parler cher fr\u00e8re respect nez. Pauvre parent na\u00eetre dos. Durer ci accent naissance chair roman large. Poitrine conna\u00eetre cas tromper."}, {"nl": "nl: Quasi excepturi officia fuga quae nobis. Aut eaque dolores impedit debitis.\nAliquid nemo architecto. Rem amet nesciunt voluptatem modi minima sequi."}]}, {"_id": "6017edf7eec798982293a99d", "base_assets": ["eth"], "crypto": True, "date_added": "2020-12-14 10:04:58", "date_updated": "2020-12-14 10:07:41", "default_base_asset": "eth", "default_frequency": "0m", "default_market": "binance", "description": "en: Million local scene culture cause though. Read garden represent up traditional guess. Trouble face suggest develop.\nMight two while meeting visit use. Sort word throughout worker.", "key": "f7ae65218f4b3b1ed18ce41f50117654ea94b8cd", "level": "level 0", "markets": ["binance"], "name": "megan47.bot", "pair": "eth_mzc", "risk_score": 9, "stage": "sandbox", "team_members": ["Tess van der Meulen-van Alenburg"], "team_name": "joshuawong.team", "type": "bot", "user_id": "6017edf6eec798982293a947", "version": "0.4.4", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://placekitten.com/430/937", "description_multi": [{"en": "en: Million local scene culture cause though. Read garden represent up traditional guess. Trouble face suggest develop.\nMight two while meeting visit use. Sort word throughout worker."}, {"es": "es: Delectus minima assumenda. Quisquam nemo doloremque placeat. Similique explicabo sapiente a illo eum."}, {"de": "de: Molestiae impedit numquam. Sunt ratione accusamus nostrum animi error architecto explicabo."}, {"fr": "fr: Porter int\u00e9resser habitude ailleurs. Libre expliquer porte oser recherche. Pr\u00e9sent conseil effacer confier t\u00e9moin falloir cinquante tranquille."}, {"nl": "nl: Iste eum doloribus hic.\nImpedit ex sint necessitatibus. Expedita maiores voluptatum. Fugiat at cum dignissimos quo accusantium."}]}, {"_id": "6017edf7eec798982293a99c", "base_assets": ["vtc"], "crypto": True, "date_added": "2020-12-09 23:37:12", "date_updated": "2020-12-09 23:39:43", "default_base_asset": "vtc", "default_frequency": "37m", "default_market": "binance", "description": "en: These including system thousand image. Issue special message himself food maintain wear.\nHis their light throw. Themselves religious single west scientist apply a.", "key": "72480ff5c09719f485570657badbb70c192ef2cf", "level": "level 2", "markets": ["binance"], "name": "rachael96.bot", "pair": "vtc_nmc", "risk_score": 7, "stage": "sandbox", "team_members": ["Sylvie de la Fleche", "Sander Vervoort"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a94c", "version": "0.5.5", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://placekitten.com/241/996", "description_multi": [{"en": "en: These including system thousand image. Issue special message himself food maintain wear.\nHis their light throw. Themselves religious single west scientist apply a."}, {"es": "es: Quibusdam dolorem omnis ab excepturi. Vitae aliquam minus. Impedit iste dignissimos harum dignissimos.\nOfficiis eligendi hic. Velit velit enim at."}, {"de": "de: Eaque ipsam eius quaerat quaerat sequi rerum. Similique labore quia blanditiis. At eum eaque ducimus.\nVel facere et. Maxime illo recusandae quisquam soluta. Repudiandae repudiandae facere nihil nam."}, {"fr": "fr: Flamme acheter immobile second poche sommet se.\n\u00c9norme conduire pencher fort t\u00eate figure. Accrocher blanc centre sortir. Appartement ciel lier derri\u00e8re po\u00e8te. Empire celui fort juger ville point."}, {"nl": "nl: Nulla in ipsum ad delectus velit. Dolore quibusdam doloribus soluta porro ipsam.\nAlias illum perspiciatis ipsum quasi. Dolorum placeat nemo facere. Veniam impedit id nostrum doloribus cupiditate."}]}, {"_id": "6017edf7eec798982293a99b", "base_assets": ["msc"], "crypto": True, "date_added": "2020-12-01 22:29:05", "date_updated": "2020-12-01 22:30:30", "default_base_asset": "msc", "default_frequency": "40m", "default_market": "binance", "description": "en: Determine argue save business war suddenly. At pick could role break ok.\nTogether single black require report and attorney. Natural put seat mission. Doctor should rather reach.", "key": "9e7e69beaecf6029dfc64656069428bf11375266", "level": "level 0", "markets": ["binance"], "name": "johnsonjoshua.bot", "pair": "msc_etc", "risk_score": 11, "stage": "active", "team_members": ["Vigo van der Heijden-Scheer", "Maartje Oostveen", "Cornelis Merkx"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a95f", "version": "0.5.4", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/25/169", "description_multi": [{"en": "en: Determine argue save business war suddenly. At pick could role break ok.\nTogether single black require report and attorney. Natural put seat mission. Doctor should rather reach."}, {"es": "es: Odio dolores molestias aliquid molestias praesentium. Quos ex eveniet rem. Cum doloremque hic tempore iusto eligendi repudiandae corporis."}, {"de": "de: Vel esse tempora id mollitia rem doloribus. Pariatur similique exercitationem culpa necessitatibus atque quasi. Est magnam vel commodi."}, {"fr": "fr: Pr\u00eater relation fil r\u00e9pandre d\u00e9tail espace remonter sur. Accuser du grand gloire suivant instinct plan s\u00e9rieux. Chemin port temps bient\u00f4t quinze partout d\u00e9cider."}, {"nl": "nl: Voluptatem eaque dolorum eius repudiandae commodi ratione cupiditate. Incidunt impedit inventore vel cum."}]}, {"_id": "6017edf7eec798982293a99a", "base_assets": ["trx"], "crypto": True, "date_added": "2020-12-01 09:51:22", "date_updated": "2020-12-01 09:53:53", "default_base_asset": "trx", "default_frequency": "22m", "default_market": "binance", "description": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book.", "key": "c1cea78135c76a204cb627ec91e310a5a282dc55", "level": "level 2", "markets": ["binance"], "name": "michael58.bot", "pair": "trx_stc", "risk_score": 7, "stage": "active", "team_members": ["Sterre Willems"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.1.8", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/925/729", "description_multi": [{"en": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book."}, {"es": "es: Similique quia corrupti tempore quia corporis consequatur. Et et iste numquam numquam consequuntur. Voluptas error quaerat alias doloremque."}, {"de": "de: Illo hic harum. Est ipsam rem qui optio quod quo. Sunt assumenda quidem ut itaque quis non earum."}, {"fr": "fr: Prononcer admettre droite fortune recueillir contenir cours \u00e9teindre. Chair propos dieu empire lutte continuer."}, {"nl": "nl: Dolores dicta saepe porro temporibus maxime hic. Optio iusto praesentium tempora qui perspiciatis. Voluptatibus explicabo atque voluptate dignissimos."}]}, {"_id": "6017edf7eec798982293a999", "base_assets": ["mzc"], "crypto": True, "date_added": "2020-11-27 04:56:06", "date_updated": "2020-11-27 04:59:17", "default_base_asset": "mzc", "default_frequency": "7m", "default_market": "binance", "description": "en: Professor charge expert hair model result at take. Keep difficult drop nature position whether.\nOf especially subject half trade never anyone. Significant street company film certainly senior meet.", "key": "68c0e28d9cb5c500af0a996f52566b77607c44b2", "level": "level 1", "markets": ["binance"], "name": "donaldmurphy.bot", "pair": "mzc_fth", "risk_score": 8, "stage": "sandbox", "team_members": ["Ivan Wolfsdr-Booden", "Nora Dries"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a94a", "version": "0.6.7", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://dummyimage.com/521x579", "description_multi": [{"en": "en: Professor charge expert hair model result at take. Keep difficult drop nature position whether.\nOf especially subject half trade never anyone. Significant street company film certainly senior meet."}, {"es": "es: Libero aut tempora amet. Ipsa doloremque ad nemo pariatur.\nEveniet voluptatem cum labore tempore."}, {"de": "de: Quam eveniet eius debitis. Cupiditate eligendi placeat nam qui commodi.\nAnimi quidem est. Officiis odit iste reiciendis praesentium dolorum."}, {"fr": "fr: Danser un poste toujours chaise danger. Porte v\u00e9rit\u00e9 lourd r\u00e9flexion plusieurs. Peine tapis honte le t\u00eate chasse r\u00e9fl\u00e9chir. Demain nom claire droite."}, {"nl": "nl: Enim quasi pariatur tempore. Error dolores voluptas id. Quo eos ducimus iure. Autem iste sed ducimus nesciunt ipsum.\nAb vel quisquam. Commodi nihil aliquid ducimus."}]}, {"_id": "6017edf7eec798982293a998", "base_assets": ["eth"], "crypto": True, "date_added": "2020-11-26 23:45:08", "date_updated": "2020-11-26 23:45:51", "default_base_asset": "eth", "default_frequency": "3m", "default_market": "binance", "description": "en: Congress every north source kitchen. Special stock impact person put to change. Country perform will someone energy.\nSign trip customer. Dinner finish nearly simple.", "key": "eba01a886c551c5b82ea5b7e25351b27a4ebd495", "level": "level 0", "markets": ["binance"], "name": "pbuchanan.bot", "pair": "eth_koi", "risk_score": 8, "stage": "sandbox", "team_members": ["Olaf Backer", "Hendrik Honing", "Maaike van der Avoirt", "Catharina Thatcher"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.5.8", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/588/586", "description_multi": [{"en": "en: Congress every north source kitchen. Special stock impact person put to change. Country perform will someone energy.\nSign trip customer. Dinner finish nearly simple."}, {"es": "es: Soluta harum fuga sunt atque quod. Corrupti ad quaerat aperiam facilis.\nEveniet esse possimus commodi. Esse ut esse porro. Quaerat illo vel beatae."}, {"de": "de: Eveniet facere in enim nisi id. Voluptatem est iste at vel.\nDistinctio ducimus ex rerum. Soluta iure repudiandae et exercitationem harum numquam."}, {"fr": "fr: Chasser plan adresser pas. Note r\u00e9sistance m\u00eame connaissance.\nRapidement fonction lier marche dehors colon m\u00e9riter. \u00c9teindre livrer pluie ventre."}, {"nl": "nl: Eveniet dolorem nisi beatae recusandae hic. Vitae ea dolores autem nulla voluptatum saepe. Cupiditate ea accusantium nisi sit sint."}]}]})

    def test_get_funded_strategies_mutation_0(self):
        task = strategies_service.get_funded_strategies.s(
            
        ).apply()
        self.assertEqual(task.result, {"6017edf7eec798982293a99a": {"subscribers": 33, "quantity_in_euro": 20875.76, "quantity_in_base": 42830.32699, "quantity_avg_euro": 632.5987878787878}, "6017edf7eec798982293a99b": {"subscribers": 38, "quantity_in_euro": 17025.65, "quantity_in_base": 26543.46539, "quantity_avg_euro": 448.04342105263163}, "6017edf7eec798982293a99e": {"subscribers": 21, "quantity_in_euro": 18128.57, "quantity_in_base": 85458.17988, "quantity_avg_euro": 863.265238095238}})

    def test_get_strategies_mutation_1(self):
        task = strategies_service.get_strategies.s(
            10, 0, 'date_added', 'desc', None, None, None, '6017edf7eec798982293a9a1'
        ).apply()
        self.assertEqual(task.result, {"total_elements": 1, "total_pages": 1, "current_page": 0, "content": [{"_id": "6017edf7eec798982293a9a1", "base_assets": ["srn"], "crypto": True, "date_added": "2021-01-14 22:41:09", "date_updated": "2021-01-14 22:43:26", "default_base_asset": "srn", "default_frequency": "1m", "default_market": "binance", "description": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect.", "key": "8d9ff55aee0d485f5bdaa76a36c0539a25a44d57", "level": "level 0", "markets": ["binance"], "name": "mahoneypatricia.bot", "pair": "srn_nem", "risk_score": 6, "stage": "sandbox", "team_members": ["Quinn van Mook", "Julie van den Henst", "Quinn Martens", "Robin van Beek", "Mick Galenzone"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a949", "version": "0.0.1", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://placekitten.com/728/288", "description_multi": [{"en": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect."}, {"es": "es: Assumenda vel accusamus accusantium impedit incidunt ducimus aperiam. Doloremque eligendi omnis labore. Placeat fugiat magnam sed tenetur fuga officiis."}, {"de": "de: Delectus aliquam aut ipsam voluptatibus minus ea incidunt. Quibusdam neque totam tempore nam. Inventore rem magni deserunt nostrum sint."}, {"fr": "fr: Voler v\u00e9ritable lire. Propre accepter amour six songer saint.\nGrand subir accompagner oncle. R\u00eave changer soci\u00e9t\u00e9 quart chaud."}, {"nl": "nl: Ratione consequatur expedita delectus. Non aliquid corrupti labore nemo.\nAspernatur ea maiores consequuntur consequuntur. Sint fugiat eveniet placeat voluptatibus."}]}]})

    def test_get_strategies_mutation_2(self):
        task = strategies_service.get_strategies.s(
            10, 0, 'date_added', 'desc', None, None, None, '6017edf7eec798982293a9a1'
        ).apply()
        self.assertEqual(task.result, {"total_elements": 1, "total_pages": 1, "current_page": 0, "content": [{"_id": "6017edf7eec798982293a9a1", "base_assets": ["srn"], "crypto": True, "date_added": "2021-01-14 22:41:09", "date_updated": "2021-01-14 22:43:26", "default_base_asset": "srn", "default_frequency": "1m", "default_market": "binance", "description": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect.", "key": "8d9ff55aee0d485f5bdaa76a36c0539a25a44d57", "level": "level 0", "markets": ["binance"], "name": "mahoneypatricia.bot", "pair": "srn_nem", "risk_score": 6, "stage": "sandbox", "team_members": ["Quinn van Mook", "Julie van den Henst", "Quinn Martens", "Robin van Beek", "Mick Galenzone"], "team_name": "acarpenter.team", "type": "bot", "user_id": "6017edf6eec798982293a949", "version": "0.0.1", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://placekitten.com/728/288", "description_multi": [{"en": "en: Establish form during hot. Project teach himself goal end.\nTraditional third grow teacher perhaps green early. Oil list exactly type. Rise bring product guy boy affect."}, {"es": "es: Assumenda vel accusamus accusantium impedit incidunt ducimus aperiam. Doloremque eligendi omnis labore. Placeat fugiat magnam sed tenetur fuga officiis."}, {"de": "de: Delectus aliquam aut ipsam voluptatibus minus ea incidunt. Quibusdam neque totam tempore nam. Inventore rem magni deserunt nostrum sint."}, {"fr": "fr: Voler v\u00e9ritable lire. Propre accepter amour six songer saint.\nGrand subir accompagner oncle. R\u00eave changer soci\u00e9t\u00e9 quart chaud."}, {"nl": "nl: Ratione consequatur expedita delectus. Non aliquid corrupti labore nemo.\nAspernatur ea maiores consequuntur consequuntur. Sint fugiat eveniet placeat voluptatibus."}]}]})

    def test_get_strategies_mutation_3(self):
        task = strategies_service.get_strategies.s(
            20, 0, 'date_added', 'desc', None, None, 'mich', None
        ).apply()
        self.assertEqual(task.result, {"total_elements": 1, "total_pages": 1, "current_page": 0, "content": [{"_id": "6017edf7eec798982293a99a", "base_assets": ["trx"], "crypto": True, "date_added": "2020-12-01 09:51:22", "date_updated": "2020-12-01 09:53:53", "default_base_asset": "trx", "default_frequency": "22m", "default_market": "binance", "description": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book.", "key": "c1cea78135c76a204cb627ec91e310a5a282dc55", "level": "level 2", "markets": ["binance"], "name": "michael58.bot", "pair": "trx_stc", "risk_score": 7, "stage": "active", "team_members": ["Sterre Willems"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.1.8", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/925/729", "description_multi": [{"en": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book."}, {"es": "es: Similique quia corrupti tempore quia corporis consequatur. Et et iste numquam numquam consequuntur. Voluptas error quaerat alias doloremque."}, {"de": "de: Illo hic harum. Est ipsam rem qui optio quod quo. Sunt assumenda quidem ut itaque quis non earum."}, {"fr": "fr: Prononcer admettre droite fortune recueillir contenir cours \u00e9teindre. Chair propos dieu empire lutte continuer."}, {"nl": "nl: Dolores dicta saepe porro temporibus maxime hic. Optio iusto praesentium tempora qui perspiciatis. Voluptatibus explicabo atque voluptate dignissimos."}]}]})

    def test_get_strategies_mutation_4(self):
        task = strategies_service.get_strategies.s(
            10, 0, 'date_added', 'desc', None, None, None, '6017edf7eec798982293a99a'
        ).apply()
        self.assertEqual(task.result, {"total_elements": 1, "total_pages": 1, "current_page": 0, "content": [{"_id": "6017edf7eec798982293a99a", "base_assets": ["trx"], "crypto": True, "date_added": "2020-12-01 09:51:22", "date_updated": "2020-12-01 09:53:53", "default_base_asset": "trx", "default_frequency": "22m", "default_market": "binance", "description": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book.", "key": "c1cea78135c76a204cb627ec91e310a5a282dc55", "level": "level 2", "markets": ["binance"], "name": "michael58.bot", "pair": "trx_stc", "risk_score": 7, "stage": "active", "team_members": ["Sterre Willems"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.1.8", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/925/729", "description_multi": [{"en": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book."}, {"es": "es: Similique quia corrupti tempore quia corporis consequatur. Et et iste numquam numquam consequuntur. Voluptas error quaerat alias doloremque."}, {"de": "de: Illo hic harum. Est ipsam rem qui optio quod quo. Sunt assumenda quidem ut itaque quis non earum."}, {"fr": "fr: Prononcer admettre droite fortune recueillir contenir cours \u00e9teindre. Chair propos dieu empire lutte continuer."}, {"nl": "nl: Dolores dicta saepe porro temporibus maxime hic. Optio iusto praesentium tempora qui perspiciatis. Voluptatibus explicabo atque voluptate dignissimos."}]}]})

    def test_group_by_team_mutation_0(self):
        task = strategies_service.group_by_team.s(
            {'6017edf7eec798982293a99a': {'subscribers': 33, 'quantity_in_euro': 20875.76, 'quantity_in_base': 42830.32699, 'quantity_avg_euro': 632.5987878787878}, '6017edf7eec798982293a99b': {'subscribers': 38, 'quantity_in_euro': 17025.65, 'quantity_in_base': 26543.46539, 'quantity_avg_euro': 448.04342105263163}, '6017edf7eec798982293a99e': {'subscribers': 21, 'quantity_in_euro': 18128.57, 'quantity_in_base': 85458.17988, 'quantity_avg_euro': 863.265238095238}}
        ).apply()
        self.assertEqual(task.result, {"6017edf6eec798982293a954": {"bots": [{"strategy_id": "6017edf7eec798982293a99a", "strategy_name": "michael58.bot", "market_cap_eur": 2000000, "subscribers": 33, "quantity_in_euro": 20875.76, "quantity_in_base": 42830.32699, "quantity_avg_euro": 632.5987878787878}, {"strategy_id": "6017edf7eec798982293a99e", "strategy_name": "mpowers.bot", "market_cap_eur": 2000000, "subscribers": 21, "quantity_in_euro": 18128.57, "quantity_in_base": 85458.17988, "quantity_avg_euro": 863.265238095238}], "names": ["wrightwilliam.team"], "total_amount": 39004.33, "total_count": 54, "total_avg": 747.932012987013, "total_base": 128288.50687}, "6017edf6eec798982293a95f": {"bots": [{"strategy_id": "6017edf7eec798982293a99b", "strategy_name": "johnsonjoshua.bot", "market_cap_eur": 2000000, "subscribers": 38, "quantity_in_euro": 17025.65, "quantity_in_base": 26543.46539, "quantity_avg_euro": 448.04342105263163}], "names": ["acarpenter.team"], "total_amount": 17025.65, "total_count": 38, "total_avg": 448.04342105263163, "total_base": 26543.46539}})

    def test_get_active_strategy_names_mutation_8(self):
        task = strategies_service.get_active_strategy_names.s(
            
        ).apply()
        self.assertEqual(task.result, "[{\"_id\": \"6017edf7eec798982293a99a\", \"name\": \"michael58.bot\"}, {\"_id\": \"6017edf7eec798982293a99b\", \"name\": \"johnsonjoshua.bot\"}, {\"_id\": \"6017edf7eec798982293a99e\", \"name\": \"mpowers.bot\"}]")

    def test_get_strategy_info_mutation_0(self):
        task = strategies_service.get_strategy_info.s(
            '6017edf7eec798982293a99a'
        ).apply()
        self.assertEqual(task.result, {"base_assets": ["trx"], "crypto": True, "date_added": 1606809082, "date_updated": 1606809233, "default_base_asset": "trx", "default_frequency": "22m", "default_market": "binance", "description": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book.", "key": "c1cea78135c76a204cb627ec91e310a5a282dc55", "level": "level 2", "markets": ["binance"], "name": "michael58.bot", "pair": "trx_stc", "risk_score": 7, "stage": "active", "team_members": ["Sterre Willems"], "team_name": "wrightwilliam.team", "type": "bot", "user_id": "6017edf6eec798982293a954", "version": "0.1.8", "chart_30_days": [], "market_cap_eur": 2000000, "icon_url": "https://www.lorempixel.com/925/729", "description_multi": [{"en": "en: Late official song weight practice. Area industry challenge year.\nDinner reveal protect person. Those choice worry media with hot book."}, {"es": "es: Similique quia corrupti tempore quia corporis consequatur. Et et iste numquam numquam consequuntur. Voluptas error quaerat alias doloremque."}, {"de": "de: Illo hic harum. Est ipsam rem qui optio quod quo. Sunt assumenda quidem ut itaque quis non earum."}, {"fr": "fr: Prononcer admettre droite fortune recueillir contenir cours \u00e9teindre. Chair propos dieu empire lutte continuer."}, {"nl": "nl: Dolores dicta saepe porro temporibus maxime hic. Optio iusto praesentium tempora qui perspiciatis. Voluptatibus explicabo atque voluptate dignissimos."}]})

if __name__ == '__main__':
    unittest.main(verbosity=2)
